define("js/anticheatMob",["globalData"],function(t){function e(t,e,n){var a={x:0,y:0};if(!t)return a;var r=document.body;document.documentElement&&document.documentElement.scrollTop&&(r=document.documentElement);var o=t.getBoundingClientRect();return{x:parseInt(e-(o.left+r.scrollLeft),10),y:parseInt(n-(o.top+r.scrollTop),10)}}function n(t,e){if("string"!=typeof t)return"";var n=/\.php\?(url=)?([0-9a-zA-Z_-]*)\./.exec(t);if(n){for(var a=0,r=e.pressTime*e.imTimeSign%99+9,o=n[2].length,i=0;r>i;++i)a+=n[2].charCodeAt(e.touchX*i%o);return[a,e.pressTime,e.touchX,e.touchY,e.templateWidth,e.templateHeight,e.touchMoveNum,e.touchMoveTotalTime].join(".")}return""}function a(t){var e=t.targetTouches.length,n=1===e?0:Math.floor(Math.random()*e),a=t.targetTouches[n];h.touchStartX=parseInt(a.pageX,10),h.touchStartY=parseInt(a.pageY,10)}function r(){var t=this;h.pressTime=(new Date).getTime()-h.touchStartTime,h.touchMoveTotalTime+=h.pressTime,h.templateWidth=h.containerDom.offsetWidth,h.templateHeight=h.containerDom.offsetHeight;var a=e(t,h.touchStartX,h.touchStartY);h.touchX=a.x,h.touchY=a.y;var r=parseInt(t.getAttribute("data-tag-index"),10);h.imTimeSign=h.antiCheatArray[r];var o=t.getAttribute(c),i=c;o||(i="href",o=t.getAttribute(i));var u=n(o,h);u&&(-1===o.indexOf("&ck=")?o+="&ck="+u:o=o.replace(/&ck=[\w.]*/,"&ck="+u)),t.setAttribute(i,o)}function o(t){var e=t.length;if(e)for(var n=null,o=0;e>o;o++)n=t[o],null!=n.getAttribute("data-tag-index")&&(n.addEventListener("touchstart",a),n.addEventListener("touchend",r),n.addEventListener("touchcancel",r))}function i(t,e){h.antiCheatArray=e||[];var n=h.containerDom=t;if(n.addEventListener("touchstart",function(){h.touchStartTime=(new Date).getTime(),h.touchMoveNum++}),!u){var a=n.getElementsByTagName("a")||[];o(a)}}var c=t.elemAntiHrefAttr||"href";"string"!=typeof c&&(c="href");var u=t.doesNotBindAntiRightNow===!0,h={antiCheatArray:[],imTimeSign:0,touchStartX:0,touchStartY:0,touchX:0,touchY:0,touchStartTime:0,pressTime:0,templateHeight:0,templateWidth:0,touchMoveNum:0,touchMoveTotalTime:0,containerDom:null},m=document.getElementById("container"),l=t.antiArr||window.antiArray||window.antiCheatArray;return l&&m&&i(m,l),{checkEventBind:o,antiCheatHandler:r}});